<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MongoDB Sample App</title>
	</head>
	<body>
		<input type="text" placeholder="Search" id="search" />
		<button id="btn">Search</button>
		<pre>
    <code id="code"></code>
  </pre>

  <script>
    const search = document.getElementById("search");
    const button = document.getElementById("btn");
    const code = document.getElementById("code");

    button.addEventListener("click", async () => {
      code.innerText = "Loading...";

      const response = await fetch("/get?search=" + encodeURIComponent(search.value));

      const json = await response.json();

      code.innerText = "\n" + JSON.stringify(json, null, 4);
    });
  </script>
	</body>
</html>
